# Use model cards through the SageMaker Python SDK<a name="model-cards-sdk"></a>

You can create an Amazon SageMaker Model Card programmatically through the SageMaker Python SDK\. For more information see [Amazon SageMaker Model Cards](https://sagemaker.readthedocs.io/en/stable/api/governance/model_card.html) in the SageMaker Python SDK API reference\.

## Create a model card<a name="model-cards-sdk-create"></a>

Before creating a model card, you must first define the content of your model card\. When using the SageMaker Python SDK, model content consists of a model overview, training details, intended uses, evaluation details, and additional information\. 

**Note**  
To use model cards with the SageMaker Python SDK, you first need to establish a SageMaker Session\. For more information, see [Session](https://sagemaker.readthedocs.io/en/stable/api/utility/session.html) in the SageMaker Python SDK API reference\.

### Define model overview<a name="model-cards-sdk-create-model-overview"></a>

Define an overview of your model\.

```
model_overview = ModelOverview.from_model_name(
model_name=model_name,
sagemaker_session=sagemaker_session,
model_description="A-description-of-your-model",
problem_type="Problem-type", # For example, "Binary Classification"
algorithm_type="Algorithm-type", # For example, "Logistic Regression"
model_creator="Name-of-model-creator",
model_owner="Name-of-model-owner",
)
```

If your model is an AWS resource, then overview information such as the model ARN, inference container URI, and the S3 location of model artifacts is automatically retrievable\. Print the associated AWS metadata with the following commands:

```
print(model_overview.model_id)
print(model_overview.inference_environment.container_image)
print(model_overview.model_artifact)
```

### Define training details<a name="model-cards-sdk-create-training-details"></a>

To define your model's training details, you must first define its objective function\.

```
objective_function = ObjectiveFunction(
    function=Function(
        function=ObjectiveFunctionEnum.MINIMIZE,
        facet=FacetEnum.LOSS,
    ),
    notes="An-explanation-about-objective-function",
)
```

Next, you can define your training details using your existing model overview, session, and objective function\. Add any training observations here\.

```
training_details = TrainingDetails.from_model_overview(
    model_overview=model_overview,
    sagemaker_session=sagemaker_session,
    objective_function=objective_function,
    training_observations="Model-training-observations",
)
```

Once again, if your model is an AWS resource, certain training details are autopopulated\. Print the training job ARN, training container URI, and training metrics with the following commands:

```
print(training_details.training_job_details.training_arn)
print(training_details.training_job_details.training_environment.container_image) 
print([{"name": i.name, "value": i.value} for i in training_details.training_job_details.training_metrics])
```

### Define evaluation details<a name="model-cards-sdk-create-evalutation-details"></a>

To define your model's evaluation details, you must first define one or more metric groups to describe metrics used for any evaluation jobs\.

```
my_metric_group = MetricGroup(
name="binary classification metrics",
metric_data=[Metric(name="accuracy", type=MetricTypeEnum.NUMBER, value=0.5)]
)
```

Next, you can define your evaluation details using evaluation metrics and datasets for each evaluation job\. Add any evaluation observations here and give your evaluation job a unique name\.

```
evaluation_details = [
    EvaluationJob(
        name="Example-evaluation-job",
        evaluation_observation="Evaluation-observations",
        datasets=["s3://path/to/evaluation/data"],
        metric_groups=[my_metric_group],
    )
]
```

If you have existing evaluation reports generated by [SageMaker Clarify](https://docs.aws.amazon.com/sagemaker/latest/dg/clarify-processing-job-run.html) or [SageMaker Model Monitor](https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor-model-quality.html), upload them to Amazon S3 and provide an S3 URI to automatically parse evaluation metrics\. To add your own generic model card evaluation report, provide a report in the [evaluation results JSON format](https://docs.aws.amazon.com/sagemaker/latest/dg/model-cards-json-schema.html)\.

```
report_type = "clarify_bias.json"
example_evaluation_job.add_metric_group_from_json(
    f"example_metrics/{report_type}", EvaluationMetricTypeEnum.CLARIFY_BIAS
)
```

### Define intended uses<a name="model-cards-sdk-create-intended-uses"></a>

Define the intended uses of the model, including the general purpose of the model and the use cases for which it was intended\. It is also recommended to include any factors that potentially a this model's efficacy in a particular use case and your organization's risk rating of the model\. For more information, see [Intended uses of a model](model-cards.md#model-cards-intended-uses)and [Risk ratings](model-cards.md#model-cards-risk-rating)\.

```
intended_uses = IntendedUses(
purpose_of_model="Purpose-of-the-model",
intended_uses="The-intended-uses-of-this-model",
factors_affecting_model_efficiency="Any-factors-effecting-model-efficacy",
risk_rating=RiskRatingEnum.LOW,
explanations_for_risk_rating="Explanation-for-low-risk-rating",
)
```

### Define additional information<a name="model-cards-sdk-create-additional-details"></a>

Lastly, you can add additional custom information to your model card\. You can document any ethical considerations, caveats, and recommendations about the model\. You can also add any custom details that you would like in the form of key\-value pairs\. 

```
additional_information = AdditionalInformation(
ethical_considerations="Any-ethical-considerations",
caveats_and_recommendations="Any-caveats-and-recommendations",
custom_details={"custom details1": "details-value"},
)
```

### Create model card<a name="model-cards-sdk-create-define"></a>

Name your model card, define a model card, and then use that definition to create a model card using the SageMaker Python SDK\.

```
model_card_name = "my-model-card"
my_card = ModelCard(
    name=model_card_name,
    status=ModelCardStatusEnum.DRAFT,
    model_overview=model_overview,
    training_details=training_details,
    intended_uses=intended_uses,
    evaluation_details=evaluation_details,
    additional_information=additional_information,
    sagemaker_session=sagemaker_session,
)
my_card.create()
```

## Edit a model card<a name="model-cards-sdk-edit"></a>

You can edit a model card using the `model_card.update()` method\. Updating a model card creates a new model card version in order to have an immutable record of model changes\. You cannot update the name of a model card\.

```
my_card.model_overview.model_description = "updated-model-decription"
my_card.update()
```

## Export a model card<a name="model-cards-sdk-export"></a>

Specify an S3 output path and export your model card PDF to it with the following commands:

```
s3_output_path = f"s3://{bucket}/{prefix}/export"
pdf_s3_url = my_card.export_pdf(s3_output_path=s3_output_path).delete()
```

## Delete a model card<a name="model-cards-sdk-delete"></a>

Permanently delete a model card with the following command:

```
my_card.delete()
```

## Sample notebooks<a name="model-cards-sdk-delete"></a>

For more information on working with model cards through the SageMaker Python SDK, see the *[Amazon SageMaker Model Governance \- Model Card](https://github.com/aws/amazon-sagemaker-examples/tree/main/sagemaker_model_governance/model_card.ipynb)* example notebook\.